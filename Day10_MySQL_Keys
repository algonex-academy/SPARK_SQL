Types of Keys in MySQL
Ee key antee enti meeru cheppandi:
A key is used to identify records uniquely, connect tables, and keep data clean/Integrity & reliable in production systems
- Without keys -> duplicate users, broken relationships, wrong reports

What to prepare:
- Primary Key
- Foreign Key
- Unique
- Composite Keys
- Candidate, Alternate, Natural, Surrogate Keys
- NOT NULL, CHECK, DEFAULT
- ON DELETE CASCADE / SET NULL / RESTRICT
-> Data integrity, Prevent duplicates, Prevent data loss
-> PK vs FK, Composite key use-cases, CASCADE dangers

ğ—©ğ—®ğ—¿ğ—¶ğ—½ğ˜‚ğ˜€ ğ˜ğ˜†ğ—½ğ—²ğ˜€ ğ—¼ğ—³ ğ—ğ—²ğ˜†ğ˜€:
1) Primary Key (PK)
2) Foreign Key (FK)
3) Unique Key
4) Candidate Key
5) Composite Key (Compound Key)
6) Super Key
7) Alternate Key
8) Natural Key
9) Surrogate Key

1) Primary Key (PK)-> (UNIQUE+NOT NULL)
-> A column (or columns) that Uniquely identifies each row in a table
-> Cannot be NULL - One per table ( No duplicates & No NULL)
Ex: User ID, Order ID, Property ID, Aadhar, Transaction ID, mee clg roll_no

CREATE TABLE users (
  user_id INT PRIMARY KEY,
  name VARCHAR(50)
);
-- Fast lookup, Unique identity, Prevents duplicate records kosam
Every user/order/property needs a unique(No duplicate) ID and without any NULL Values in that entire column

Ex:2 CREATE TABLE users (
  user_id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(50),
  email VARCHAR(100)
);


2) Foreign Key (FK) (Links with Pk)
A column that references/Links the Primary Key of another table which creates a relationship between tables
Ex:  Connect users -> orders, properties -> bookings, customers -> payments

(Users <-> Bookings <-> Properties)
CREATE TABLE properties (
  property_id VARCHAR(50) PRIMARY KEY
);

CREATE TABLE bookings (
  booking_id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT,
  property_id VARCHAR(50),
  FOREIGN KEY (user_id) REFERENCES users(user_id),
  FOREIGN KEY (property_id) REFERENCES properties(property_id)
);

Why Algonex care:
- Prevents invalid data (no booking for non-existing user)
- Keeps tables connected correctly
- Enforces data integrity
- Safer deletes/updates

- Main Table/parent Table/Primary Key Column Table -> Referencing Table
- Sub Table/Child Table/Relation Table -> Referred Table

3) Unique Key (Without duplicates)
-> Ensures a column value is unique across rows
- Multiple UNIQUE keys allowed in table
- Allows NULL (one or more, depending on DB behavior)
Ex: Email, phone number, username

CREATE TABLE users (
  user_id INT PRIMARY KEY,
  email VARCHAR(100) UNIQUE
);

Ex:2 
CREATE TABLE users (
  user_id INT AUTO_INCREMENT PRIMARY KEY,
  email VARCHAR(100) UNIQUE,
  phone VARCHAR(15) UNIQUE
);

-- Prevent duplicate multiple accounts with same email/contacts
Enforce business rules
-- You can't save same contact with same Name

4) Candidate Key
-> Any column (or set of columns) that can uniquely identify a row
- One of them is chosen as Primary Key

=> Email, Aadhaar, Passport, Employee Code
Example:
- user_id (unique)
- email (unique)
Both are candidate keys
We choose user_id as Primary Key
-- user_id and email both can uniquely identify a user

Why Algonex care:
- Good schema design untundhi
- Backup identifiers
Helps choose the best PK

SPARK Ex: CREATE TABLE users (
  user_id INT AUTO_INCREMENT PRIMARY KEY, -- chosen PK
  email VARCHAR(100) UNIQUE,              -- candidate â†’ alternate key
  phone VARCHAR(15) UNIQUE,               -- candidate â†’ alternate key
  name VARCHAR(50) NOT NULL
);

5) Composite Key (Compound Key) 
- A Primary Key made of multiple columns
-> A Primary Key made from more than one column, Used 
when one column alone is not enough/not sufficient

Many-to-many relationships:
- (student_id + course_id), (order_id + product_id)

Ex: CREATE TABLE Spark_enrollments (
  student_id INT,
  course_id INT,
  PRIMARY KEY (student_id, course_id)
);
-- Prevent duplicate relationships and Model real-world many-to-many links

CREATE TABLE property_visits (
  user_id INT,
  property_id VARCHAR(50),
  visit_date DATE,
  PRIMARY KEY (user_id, property_id),
  FOREIGN KEY (user_id) REFERENCES users(user_id),
  FOREIGN KEY (property_id) REFERENCES properties(property_id)
);

6) Super Key
- Any set of columns that uniquely identifies a row 
(includes extra unnecessary columns)
- used in DB design & normalization
- Helps in schema normalization
- Choosing minimal keys

(user_id)
(user_id, email)
(user_id, name)

7) Alternate Key
Candidate keys not chosen as Primary Key
-> If PK is user_id, then email(Unique column) becomes Alternate Key

-- user_id = Primary Key
-- email = Alternate Key (often enforced with UNIQUE)
Ex: CREATE TABLE users (
  user_id INT AUTO_INCREMENT PRIMARY KEY,  -- Primary Key
  email VARCHAR(100) UNIQUE                -- Alternate Key
);

-> Secondary unique identifiers
-> Login using email instead of ID

8) Natural Key
A real-world meaningful identifier antee general columns kosam
Email, Phone number, Aadhaar

Algo_email VARCHAR(100) UNIQUE

Natural keys can change but risky for Primary Key
Used as UNIQUE, not as PK (idi best practice)

9) Surrogate Key
Artificial system-generated key (no business meaning deeniki)
- Auto-increment IDs, UUIDs

user_id INT AUTO_INCREMENT PRIMARY KEY

Stable
Never changes, fast
Best practice for PKs

Property_Mini-Project 2:

CREATE TABLE users (
  user_id INT AUTO_INCREMENT PRIMARY KEY,     -- Surrogate Key
  email VARCHAR(100) UNIQUE,                  -- Natural + Unique Key
  phone VARCHAR(15) UNIQUE
);

CREATE TABLE properties (
  property_id VARCHAR(50) PRIMARY KEY
);

CREATE TABLE bookings (
  booking_id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT,
  property_id VARCHAR(50),
  FOREIGN KEY (user_id) REFERENCES users(user_id),
  FOREIGN KEY (property_id) REFERENCES properties(property_id)
);

ğ—ğ—²ğ˜†               ğ—§ğ˜†ğ—½ğ—²          ğ—£ğ˜‚ğ—¿ğ—½ğ—¼ğ˜€ğ—² ğ—¨ğ—»ğ—¶ğ—¾ğ˜‚ğ—²?      ğ—¨ğ˜€ğ—²ğ—± ğ—¶ğ—» ğ—£ğ—¿ğ—¼ğ—±ğ˜‚ğ—°ğ˜ğ—¶ğ—¼ğ—»/ğ—£ğ—¿ğ—¼ğ—·ğ—²ğ—°ğ˜ğ—¹ğ—¼ğ—¼?     ğ—˜ğ˜…ğ—®ğ—ºğ—½ğ—¹ğ—²
 Primary Key   | Main identifier    | Yes       | Mostly                          user_id                
 Foreign Key   | Connect tables     | No        | Yes                             booking.user_id        
 Unique Key    | Prevent duplicates |  Yes      | Yes                              email                  
 Composite Key | Multi-column PK    | Yes       | Yes                              (user_id, property_id) 
 Candidate Key | PK& candidates      | Yes       |  Design                          email                  
 Alternate Key | Non-PK unique      | Yes       |  (via UNIQUE)                    email                  
 Natural Key   | Business ID        | Yes       |  As UNIQUE                       phone                  
 Surrogate Key | System ID          | Yes      |  Best practice                     AUTO_INCREMENT         
